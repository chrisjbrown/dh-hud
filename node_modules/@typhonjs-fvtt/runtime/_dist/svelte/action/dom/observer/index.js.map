{"version":3,"file":"index.js","sources":["../../../../../node_modules/@typhonjs-svelte/runtime-base/_dist/svelte/action/dom/observer/index.js"],"sourcesContent":["import { ResizeObserverManager } from '@typhonjs-svelte/runtime-base/util/dom/observer';\n\n/**\n * Provides a single global ResizeObserverManager instance for the resizeObserver action.\n *\n * @type {ResizeObserverManager}\n */\nconst resizeObserverActionManager = new ResizeObserverManager();\n\n/**\n * Provides an action to monitor the given {@link HTMLElement} node with {@link ResizeObserver} via\n * {@link ResizeObserverManager} posting width / height changes to the {@link ResizeObserverData.ResizeTarget} in\n * various ways depending on the shape of the target. The target can be one of the following and the\n * precedence order is listed from top to bottom:\n *\n * - has a `resizeObserved` function as attribute; offset then content width / height are passed as parameters.\n * - has a `setContentBounds` function as attribute; content width / height are passed as parameters.\n * - has a `setDimension` function as attribute; offset width / height are passed as parameters.\n * - target is an object; offset and content width / height attributes directly set on target.\n * - target is a function; the function invoked with offset then content width / height parameters.\n * - has a writable store `resizeObserved` as an attribute; updated with offset & content width / height.\n * - has an object 'stores' that has a writable store `resizeObserved` as an attribute; updated with offset &\n *   content width / height.\n *\n * Note: Svelte currently uses an archaic IFrame based workaround to monitor offset / client width & height changes.\n * A more up to date way to do this is with ResizeObserver. To track when Svelte receives ResizeObserver support\n * monitor this issue: {@link https://github.com/sveltejs/svelte/issues/4233}\n *\n * Can-I-Use: {@link https://caniuse.com/resizeobserver}\n *\n * @param {HTMLElement} node - The node associated with the action.\n *\n * @param {import('#runtime/util/dom/observer').ResizeObserverData.ResizeTarget} target - A\n *        {@link ResizeObserverManager} target to update with observed width & height changes.\n *\n * @returns {(import('svelte/action').ActionReturn<\n *   import('#runtime/util/dom/observer').ResizeObserverData.ResizeTarget\n * >)} The action lifecycle methods.\n *\n * @see https://github.com/sveltejs/svelte/issues/4233\n */\nfunction resizeObserver(node, target)\n{\n   resizeObserverActionManager.add(node, target);\n\n   return {\n      /**\n       * @param {import('#runtime/util/dom/observer').ResizeObserverData.ResizeTarget} newTarget - A\n       *        {@link ResizeObserverManager} target to update with observed width & height changes.\n       */\n      update: (newTarget) =>\n      {\n         resizeObserverActionManager.remove(node, target);\n         target = newTarget;\n         resizeObserverActionManager.add(node, target);\n      },\n\n      destroy: () =>\n      {\n         resizeObserverActionManager.remove(node, target);\n      }\n   };\n}\n\n/**\n * Provides a function that when invoked with an element updates the cached styles for each subscriber of the element.\n *\n * The style attributes cached to calculate offset height / width include border & padding dimensions. You only need\n * to update the cache if you change border or padding attributes of the element.\n *\n * @param {HTMLElement} el - A HTML element.\n */\nresizeObserver.updateCache = function(el)\n{\n   resizeObserverActionManager.updateCache(el);\n};\n\nexport { resizeObserver };\n//# sourceMappingURL=index.js.map\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM,2BAA2B,GAAG,IAAI,qBAAqB,EAAE;;AAE/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,cAAc,CAAC,IAAI,EAAE,MAAM;AACpC;AACA,GAAG,2BAA2B,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC;;AAEhD,GAAG,OAAO;AACV;AACA;AACA;AACA;AACA,MAAM,MAAM,EAAE,CAAC,SAAS;AACxB,MAAM;AACN,SAAS,2BAA2B,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC;AACzD,SAAS,MAAM,GAAG,SAAS;AAC3B,SAAS,2BAA2B,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC;AACtD,OAAO;;AAEP,MAAM,OAAO,EAAE;AACf,MAAM;AACN,SAAS,2BAA2B,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC;AACzD;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,CAAC,WAAW,GAAG,SAAS,EAAE;AACxC;AACA,GAAG,2BAA2B,CAAC,WAAW,CAAC,EAAE,CAAC;AAC9C,CAAC;;;;","x_google_ignoreList":[0]}