{"version":3,"file":"index.js","sources":["../../../../../node_modules/@typhonjs-svelte/runtime-base/_dist/svelte/action/dom/focus/index.js"],"sourcesContent":["import { isMinimalWritableStore } from '@typhonjs-svelte/runtime-base/svelte/store/util';\n\n/**\n * Provides an action to monitor focus state of a given element and set an associated store with current focus state.\n *\n * This action is usable with any writable store.\n *\n * @param {HTMLElement} node - Target element.\n *\n * @param {import('#runtime/svelte/store/util').MinimalWritable<boolean>}  storeFocused - Update store for focus\n *        changes.\n *\n * @returns {(import('svelte/action').ActionReturn<\n *    import('#runtime/svelte/store/util').MinimalWritable<boolean>\n * >)} Lifecycle functions.\n */\nfunction isFocused(node, storeFocused)\n{\n   let localFocused = false;\n\n   /**\n    * Updates `storeFocused` w/ current focused state.\n    *\n    * @param {boolean}  current - current focused state.\n    */\n   function setFocused(current)\n   {\n      localFocused = current;\n\n      if (isMinimalWritableStore(storeFocused)) { storeFocused.set(localFocused); }\n   }\n\n   /**\n    * Focus event listener.\n    */\n   function onFocus()\n   {\n      setFocused(true);\n   }\n\n   /**\n    * Blur event listener.\n    */\n   function onBlur()\n   {\n      setFocused(false);\n   }\n\n   /**\n    * Activate listeners.\n    */\n   function activateListeners()\n   {\n      node.addEventListener('focus', onFocus);\n      node.addEventListener('blur', onBlur);\n   }\n\n   /**\n    * Remove listeners.\n    */\n   function removeListeners()\n   {\n      node.removeEventListener('focus', onFocus);\n      node.removeEventListener('blur', onBlur);\n   }\n\n   activateListeners();\n\n   return {\n      /**\n       * @param {import('#runtime/svelte/store/util').MinimalWritable<boolean>}  newStoreFocused - Update store for\n       *        focus changes.\n       */\n      update: (newStoreFocused) =>\n      {\n         storeFocused = newStoreFocused;\n         setFocused(localFocused);\n      },\n\n      destroy: () => removeListeners()\n   };\n}\n\nexport { isFocused };\n//# sourceMappingURL=index.js.map\n"],"names":[],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,CAAC,IAAI,EAAE,YAAY;AACrC;AACA,GAAG,IAAI,YAAY,GAAG,KAAK;;AAE3B;AACA;AACA;AACA;AACA;AACA,GAAG,SAAS,UAAU,CAAC,OAAO;AAC9B,GAAG;AACH,MAAM,YAAY,GAAG,OAAO;;AAE5B,MAAM,IAAI,sBAAsB,CAAC,YAAY,CAAC,EAAE,EAAE,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AACjF;;AAEA;AACA;AACA;AACA,GAAG,SAAS,OAAO;AACnB,GAAG;AACH,MAAM,UAAU,CAAC,IAAI,CAAC;AACtB;;AAEA;AACA;AACA;AACA,GAAG,SAAS,MAAM;AAClB,GAAG;AACH,MAAM,UAAU,CAAC,KAAK,CAAC;AACvB;;AAEA;AACA;AACA;AACA,GAAG,SAAS,iBAAiB;AAC7B,GAAG;AACH,MAAM,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC;AAC7C,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM,CAAC;AAC3C;;AAEA;AACA;AACA;AACA,GAAG,SAAS,eAAe;AAC3B,GAAG;AACH,MAAM,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,OAAO,CAAC;AAChD,MAAM,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,MAAM,CAAC;AAC9C;;AAEA,GAAG,iBAAiB,EAAE;;AAEtB,GAAG,OAAO;AACV;AACA;AACA;AACA;AACA,MAAM,MAAM,EAAE,CAAC,eAAe;AAC9B,MAAM;AACN,SAAS,YAAY,GAAG,eAAe;AACvC,SAAS,UAAU,CAAC,YAAY,CAAC;AACjC,OAAO;;AAEP,MAAM,OAAO,EAAE,MAAM,eAAe;AACpC,IAAI;AACJ;;;;","x_google_ignoreList":[0]}