{"version":3,"file":"index.js","sources":["../../node_modules/@typhonjs-svelte/runtime-base/_dist/util/index.js"],"sourcesContent":["/**\n * Provides various utilities for generating hash codes for strings and UUIDs.\n *\n * This class should not be constructed as it only contains static methods.\n */\nclass Hashing\n{\n   static #regexUuidv = /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i;\n\n   /**\n    * @hideconstructor\n    */\n   constructor()\n   {\n      throw new Error('Hashing constructor: This is a static class and should not be constructed.');\n   }\n\n   /**\n    * Provides a solid string hashing algorithm.\n    *\n    * Sourced from: https://stackoverflow.com/a/52171480\n    *\n    * @param {string}   str - String to hash.\n    *\n    * @param {number}   [seed=0] - A seed value altering the hash.\n    *\n    * @returns {number} Hash code.\n    */\n   static hashCode(str, seed = 0)\n   {\n      if (typeof str !== 'string') { return 0; }\n\n      let h1 = 0xdeadbeef ^ seed, h2 = 0x41c6ce57 ^ seed;\n\n      for (let ch, i = 0; i < str.length; i++)\n      {\n         ch = str.charCodeAt(i);\n         h1 = Math.imul(h1 ^ ch, 2654435761);\n         h2 = Math.imul(h2 ^ ch, 1597334677);\n      }\n\n      h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507) ^ Math.imul(h2 ^ (h2 >>> 13), 3266489909);\n      h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507) ^ Math.imul(h1 ^ (h1 >>> 13), 3266489909);\n\n      return 4294967296 * (2097151 & h2) + (h1 >>> 0);\n   }\n\n   /**\n    * Validates that the given string is formatted as a UUIDv4 string.\n    *\n    * @param {unknown}   uuid - UUID string to test.\n    *\n    * @returns {uuid is string} Is UUIDv4 string.\n    */\n   static isUuidv4(uuid)\n   {\n      return typeof uuid === 'string' && this.#regexUuidv.test(uuid);\n   }\n\n   /**\n    * Generates a UUID v4 compliant ID. Please use a complete UUID generation package for guaranteed compliance.\n    *\n    * This code is an evolution of the following Gist.\n    * https://gist.github.com/jed/982883\n    *\n    * There is a public domain / free copy license attached to it that is not a standard OSS license...\n    * https://gist.github.com/jed/982883#file-license-txt\n    *\n    * @returns {string} UUIDv4\n    */\n   static uuidv4()\n   {\n      return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n       (c ^ (globalThis.crypto ?? globalThis.msCrypto).getRandomValues(\n        new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\n   }\n}\n\n/**\n * Provides utility functions for strings.\n *\n * This class should not be constructed as it only contains static methods.\n */\nclass Strings\n{\n   /**\n    * @hideconstructor\n    */\n   constructor()\n   {\n      throw new Error('Strings constructor: This is a static class and should not be constructed.');\n   }\n\n   /**\n    * Escape a given input string prefacing special characters with backslashes for use in a regular expression.\n    *\n    * @param {string}   string - An un-escaped input string.\n    *\n    * @returns {string} The escaped string suitable for use in a regular expression.\n    */\n   static escape(string)\n   {\n      return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n   }\n\n   /**\n    * Normalizes a string.\n    *\n    * @param {string}   string - A string to normalize for comparisons.\n    *\n    * @returns {string} Cleaned string.\n    *\n    * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n    */\n   static normalize(string)\n   {\n      return string.trim().normalize('NFD').replace(/[\\x00-\\x1F]/gm, ''); // eslint-disable-line no-control-regex\n   }\n}\n\n/**\n * Provides timing related higher-order functions.\n *\n * This class should not be constructed as it only contains static methods.\n */\nclass Timing\n{\n   /**\n    * @hideconstructor\n    */\n   constructor()\n   {\n      throw new Error('Timing constructor: This is a static class and should not be constructed.');\n   }\n\n   /**\n    * Wraps a callback in a debounced timeout. Delay execution of the callback function until the function has not been\n    * called for the given delay in milliseconds.\n    *\n    * @template Args\n    *\n    * @param {(...args: Args[]) => void} callback - A function to execute once the debounced threshold has been passed.\n    *\n    * @param {number}   delay - An amount of time in milliseconds to delay.\n    *\n    * @returns {(...args: Args[]) => void} A wrapped function that can be called to debounce execution.\n    *\n    * @example\n    * /**\n    *  * Debounce the update invocation by 500ms.\n    *  *\\/\n    * const updateDebounced = Timing.debounce(() => doc.update(), 500);\n    *\n    * // Use the function like:\n    * updateDebounced();\n    *\n    * @example\n    * /**\n    *  * Debounce the update invocation by 500ms.\n    *  *\n    *  * \\@param {string} value - A value to update.\n    *  *\\/\n    * const updateDebounced = Timing.debounce((value) => doc.update(value), 500);\n    *\n    * // Use the function like:\n    * updateDebounced('new value');\n    */\n   static debounce(callback, delay)\n   {\n      if (typeof callback !== 'function')\n      {\n         throw new TypeError(`'callback' must be a function.`);\n      }\n\n      if (!Number.isInteger(delay) || delay < 0)\n      {\n         throw new TypeError(`'delay' must be a positive integer representing milliseconds.`);\n      }\n\n      let timeoutId;\n\n      return function(...args)\n      {\n         globalThis.clearTimeout(timeoutId);\n         timeoutId = globalThis.setTimeout(() => { callback.apply(this, args); }, delay);\n      };\n   }\n\n   /**\n    * Creates a double click event handler that distinguishes between single and double clicks. Calls the `single`\n    * callback on a single click and the `double` callback on a double click. The default double click delay to invoke\n    * the `double` callback is 400 milliseconds.\n    *\n    * @param {object}   opts - Optional parameters.\n    *\n    * @param {(event: Event) => void} [opts.single] - Single click callback.\n    *\n    * @param {(event: Event) => void} [opts.double] - Double click callback.\n    *\n    * @param {number}   [opts.delay=400] - Double click delay.\n    *\n    * @returns {(event: Event) => void} The gated double-click handler.\n    *\n    * @example\n    * // Given a button element.\n    * button.addEventListener('click', Timing.doubleClick({\n    *    single: (event) => console.log('Single click: ', event),\n    *    double: (event) => console.log('Double click: ', event)\n    * });\n    */\n   static doubleClick({ single, double, delay = 400 })\n   {\n      if (single !== void 0 && typeof single !== 'function') { throw new TypeError(`'single' must be a function.`); }\n      if (double !== void 0 && typeof double !== 'function') { throw new TypeError(`'double' must be a function.`); }\n\n      if (!Number.isInteger(delay) || delay < 0)\n      {\n         throw new TypeError(`'delay' must be a positive integer representing milliseconds.`);\n      }\n\n      let clicks = 0;\n      let timeoutId;\n\n      return (event) =>\n      {\n         globalThis.clearTimeout(timeoutId);\n         clicks++;\n\n         if (clicks === 1)\n         {\n            timeoutId = globalThis.setTimeout(() =>\n            {\n               if (typeof single === 'function') { single(event); }\n               clicks = 0;\n            }, delay);\n         }\n         else\n         {\n            if (typeof double === 'function') { double(event); }\n            clicks = 0;\n         }\n      };\n   }\n}\n\nexport { Hashing, Strings, Timing };\n//# sourceMappingURL=index.js.map\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}